<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neural Status | SmartClaim Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root { --bg-deep: #080a0f; --accent-blue: #38bdf8; --glass: rgba(255, 255, 255, 0.015); --border: rgba(255, 255, 255, 0.08); }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: var(--bg-deep); color: white; min-height: 100vh; }
        .glass-panel { background: var(--glass); backdrop-filter: blur(40px) saturate(180%); border: 1px solid var(--border); }
        .timeline-dot { width: 12px; height: 12px; border-radius: 50%; background: #1f2937; position: relative; z-index: 10; }
        .timeline-dot.active { background: var(--accent-blue); box-shadow: 0 0 15px var(--accent-blue); }
        .timeline-line { width: 2px; background: #1f2937; position: absolute; top: 0; bottom: 0; left: 5px; z-index: 0; }
        .line-active { background: var(--accent-blue); }
        .line-warning { background: #f59e0b; }
        .line-danger { background: #ef4444; }
    </style>
</head>
<body class="pb-20">
    <nav class="sticky top-0 z-50 bg-black/40 backdrop-blur-xl border-b border-white/5">
        <div class="max-w-7xl mx-auto px-8 py-4 flex justify-between items-center h-20">
            <div class="text-2xl font-black italic uppercase">SmartClaim<span class="text-sky-400 not-italic">.Pro</span></div>
        </div>
    </nav>

    <main class="max-w-6xl mx-auto px-8 mt-12 grid grid-cols-1 lg:grid-cols-3 gap-8">
        <div class="glass-panel p-8 rounded-[32px] h-fit">
            <p class="text-[9px] font-black text-gray-500 uppercase tracking-widest mb-1">Neural Verdict</p>
            <h2 id="final-verdict" class="text-xl font-bold italic uppercase">ANALYZING...</h2>
            <div id="score-badge" class="mt-2 px-3 py-1 rounded-full text-[10px] font-black inline-block">--/100</div>
            
            <div class="space-y-4 pt-6 mt-6 border-t border-white/10 text-xs">
                <div class="flex justify-between"><span class="text-gray-500">Your Estimate</span><span id="user-amt-display" class="font-bold">â‚¹0</span></div>
                <div class="flex justify-between"><span class="text-gray-500">AI Detection</span><span id="ai-amt-display" class="font-bold text-sky-400">â‚¹0</span></div>
                <div class="flex justify-between"><span class="text-gray-500">Risk Profile</span><span id="risk-label" class="font-bold">Processing</span></div>
            </div>
        </div>

        <div class="lg:col-span-2 glass-panel p-10 rounded-[40px]">
            <h3 class="text-2xl font-black mb-10 uppercase italic tracking-tighter">Settlement <span class="text-sky-400 not-italic">Triage.</span></h3>
            <div class="relative space-y-12 ml-4">
                <div class="timeline-line"></div>
                <div class="flex gap-8 relative"><div class="timeline-dot active"></div><div><h4 class="text-sm font-bold text-sky-400 uppercase">Input Received</h4></div></div>
                <div class="flex gap-8 relative"><div class="timeline-dot active"></div><div class="timeline-line h-12 -top-12 line-active"></div><div><h4 class="text-sm font-bold text-sky-400 uppercase">Neural Cross-Check</h4></div></div>
                <div class="flex gap-8 relative"><div id="stage-3-dot" class="timeline-dot"></div><div id="line-3" class="timeline-line h-12 -top-12"></div><div><h4 class="text-sm font-bold text-white uppercase tracking-wider">Disbursement Status</h4></div></div>
            </div>
            <div id="ai-comment" class="mt-8 text-[11px] text-gray-400 italic">"Awaiting analysis..."</div>
            <div id="action-area" class="mt-12"></div>
        </div>
    </main>

    <script>
        window.onload = function() {
            // Simulated Data (Pulled from previous steps in project)
            const userAmt = parseInt(localStorage.getItem('claimedAmount') || 16000); 
            const aiAmt = 15000; 
            
            const verdict = document.getElementById('final-verdict');
            const riskLabel = document.getElementById('risk-label');
            const actionArea = document.getElementById('action-area');
            const aiComment = document.getElementById('ai-comment');
            
            document.getElementById('user-amt-display').innerText = "â‚¹" + userAmt.toLocaleString();
            document.getElementById('ai-amt-display').innerText = "â‚¹" + aiAmt.toLocaleString();

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            // ðŸ§  UPDATED 4-CASE LOGIC
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

            // CASE 3: USER MUCH HIGHER (Block) âŒ
            if (userAmt >= (aiAmt * 2)) {
                verdict.innerText = "RED FLAG"; 
                verdict.className = "text-xl font-bold italic text-red-500";
                riskLabel.innerText = "Fraud Risk Detected"; 
                riskLabel.className = "font-bold text-red-500";
                aiComment.innerText = "CASE 3: 2x+ mismatch = Fraud risk. Human review required.";
                
                document.getElementById('stage-3-dot').className = "timeline-dot danger";
                document.getElementById('line-3').className = "timeline-line h-12 -top-12 line-danger";
                actionArea.innerHTML = `<div class="p-6 bg-red-500/10 border border-red-500/20 rounded-2xl text-red-500 text-center font-bold uppercase text-[10px]">Manual Human Review Required</div>`;
            } 
            
            // CASE 2: USER HIGHER (Warning) âš ï¸
            else if (userAmt > (aiAmt * 1.15)) {
                verdict.innerText = "YELLOW FLAG"; 
                verdict.className = "text-xl font-bold italic text-yellow-500";
                riskLabel.innerText = "Audit Warning"; 
                riskLabel.className = "font-bold text-yellow-500";
                aiComment.innerText = "CASE 2: Your estimate is double higher. AI detected â‚¹15K. Upload receipts?";
                
                document.getElementById('stage-3-dot').className = "timeline-dot warning";
                document.getElementById('line-3').className = "timeline-line h-12 -top-12 line-warning";
                actionArea.innerHTML = `<button class="w-full bg-yellow-500 text-black font-black py-5 rounded-2xl uppercase tracking-widest text-[11px] hover:bg-yellow-400 transition">Upload Repair Receipts</button>`;
            }
            
            // CASE 4: USER LOWER (Bonus) âœ…
            else if (userAmt < aiAmt) {
                verdict.innerText = "USER WINS"; 
                verdict.className = "text-xl font-bold italic text-green-500";
                riskLabel.innerText = "Honest User Detected"; 
                riskLabel.className = "font-bold text-green-500";
                aiComment.innerText = "CASE 4: Honest user! Paying your â‚¹15K request.";
                
                // LINKING LOGIC: AI pays the benchmark amount
                localStorage.setItem('smartClaimAmount', aiAmt); 
                
                document.getElementById('stage-3-dot').className = "timeline-dot active";
                document.getElementById('line-3').className = "timeline-line h-12 -top-12 line-active";
                actionArea.innerHTML = `<button onclick="window.location.href='payout.html'" class="w-full bg-green-500 text-white font-black py-5 rounded-2xl uppercase tracking-widest text-[11px] hover:shadow-[0_0_20px_rgba(34,197,94,0.4)] transition">Collect Bonus Payout</button>`;
            }
            
            // CASE 1: CLOSE MATCH (OK) âœ…
            else {
                verdict.innerText = "GREEN CHECK"; 
                verdict.className = "text-xl font-bold italic text-green-500";
                riskLabel.innerText = "Good Faith Estimate"; 
                riskLabel.className = "font-bold text-green-500";
                aiComment.innerText = "CASE 1: Within Â±15% = Good faith estimate. Proceeding to Payout.";
                
                // LINKING LOGIC: Proceed with the AI benchmark
                localStorage.setItem('smartClaimAmount', aiAmt); 

                document.getElementById('stage-3-dot').className = "timeline-dot active";
                document.getElementById('line-3').className = "timeline-line h-12 -top-12 line-active";
                actionArea.innerHTML = `<button onclick="window.location.href='payout.html'" class="w-full bg-green-500 text-white font-black py-5 rounded-2xl uppercase tracking-widest text-[11px] hover:shadow-[0_0_20px_rgba(34,197,94,0.4)] transition">Proceed to Payout</button>`;
            }
        }
    </script>
</body>
</html>