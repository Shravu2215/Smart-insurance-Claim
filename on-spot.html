<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpotClaim - Instant Insurance Claims</title>
    <style>
        /* YOUR ORIGINAL CSS 100% UNTOUCHED */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
        .hidden { display: none !important; }
        .min-h-screen { min-height: 100vh; }
        .flex { display: flex; }
        .items-center { align-items: center; }
        .justify-center { justify-content: center; }
        .text-center { text-align: center; }
        .bg-gradient-red { background: linear-gradient(to bottom right, #dc2626, #991b1b); }
        .bg-gradient-green { background: linear-gradient(to bottom right, #16a34a, #15803d); }
        .bg-gradient-yellow { background: linear-gradient(to bottom right, #ca8a04, #a16207); }
        .bg-gray-900 { background-color: #111827; }
        .bg-gray-800 { background-color: #1f2937; }
        .bg-gray-700 { background-color: #374151; }
        .text-white { color: white; }
        .text-gray-400 { color: #9ca3af; }
        .text-gray-300 { color: #d1d5db; }
        .text-blue-400 { color: #60a5fa; }
        .rounded-xl { border-radius: 0.75rem; }
        .rounded-2xl { border-radius: 1rem; }
        .rounded-3xl { border-radius: 1.5rem; }
        .p-4 { padding: 1rem; }
        .p-6 { padding: 1.5rem; }
        .mb-2 { margin-bottom: 0.5rem; }
        .mb-4 { margin-bottom: 1rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .mb-8 { margin-bottom: 2rem; }
        .mb-12 { margin-bottom: 3rem; }
        .mt-2 { margin-top: 0.5rem; }
        .mt-4 { margin-top: 1rem; }
        .mt-6 { margin-top: 1.5rem; }
        .mt-12 { margin-top: 3rem; }
        .emergency-screen { min-height: 100vh; background: linear-gradient(to bottom right, #dc2626, #991b1b); display: flex; align-items: center; justify-content: center; padding: 1rem; }
        .emergency-icon { width: 8rem; height: 8rem; margin: 0 auto 1rem; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        @keyframes bounce { 0%, 100% { transform: translateY(-5%) ; animation-timing-function: cubic-bezier(0.8, 0, 1, 1); } 50% { transform: translateY(0); animation-timing-function: cubic-bezier(0, 0, 0.2, 1); } }
        .emergency-button { background: white; color: #dc2626; font-weight: 900; font-size: 1.5rem; padding: 2rem 4rem; border-radius: 1.5rem; border: none; cursor: pointer; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); animation: bounce 1s infinite; transition: transform 0.2s; position: relative; z-index: 10; }
        .emergency-button:hover { transform: scale(1.05); }
        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; margin-top: 3rem; color: white; }
        .stat-number { font-size: 2.25rem; font-weight: bold; }
        .stat-label { font-size: 0.875rem; opacity: 0.8; }
        .form-container { min-height: 100vh; background-color: #111827; color: white; padding: 1.5rem; }
        .form-wrapper { max-width: 42rem; margin: 0 auto; }
        .form-header { margin-bottom: 1.5rem; }
        .form-title { font-size: 1.875rem; font-weight: bold; margin-bottom: 0.5rem; }
        .form-card { background-color: #1f2937; border-radius: 1rem; padding: 1.5rem; }
        .form-group { margin-bottom: 1.25rem; }
        .form-label { display: block; font-size: 0.875rem; font-weight: 500; color: #d1d5db; margin-bottom: 0.5rem; }
        .form-input { width: 100%; padding: 0.75rem 1rem; background-color: #374151; border: 1px solid #4b5563; border-radius: 0.5rem; color: white; font-size: 1rem; }
        .form-input::placeholder { color: #9ca3af; }
        .form-input:focus { outline: none; ring: 2px; ring-color: #3b82f6; border-color: transparent; }
        .button-group { display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.75rem; }
        .vehicle-button { display: flex; align-items: center; justify-content: center; gap: 0.75rem; padding: 1rem; border-radius: 0.5rem; border: 2px solid; background-color: #374151; border-color: #4b5563; color: #d1d5db; cursor: pointer; transition: all 0.2s; font-weight: bold; }
        .vehicle-button:hover { border-color: #6b7280; }
        .vehicle-button.active { background-color: #2563eb; border-color: #2563eb; color: white; }
        .location-locked { display: flex; align-items: start; gap: 0.75rem; padding: 1rem; background-color: rgba(22, 163, 74, 0.3); border: 1px solid #16a34a; border-radius: 0.5rem; }
        .btn-primary { background-color: #2563eb; color: white; font-weight: bold; padding: 1rem; border-radius: 0.75rem; border: none; cursor: pointer; transition: background-color 0.2s; }
        .btn-primary:hover { background-color: #1d4ed8; }
        .btn-primary:disabled { background-color: #374151; color: #6b7280; cursor: not-allowed; }
        .btn-secondary { background-color: #374151; color: white; font-weight: bold; padding: 1rem; border-radius: 0.75rem; border: none; cursor: pointer; transition: background-color 0.2s; }
        .btn-secondary:hover { background-color: #4b5563; }
        .button-row { display: flex; gap: 0.75rem; margin-top: 1.5rem; }
        .button-row button { flex: 1; }
        .media-section { background-color: #1f2937; border-radius: 1rem; padding: 1.5rem; margin-bottom: 1.5rem; }
        .media-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem; }
        .media-title { display: flex; align-items: center; gap: 0.5rem; font-size: 1.25rem; font-weight: bold; }
        .photo-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 1rem; }
        .photo-item { position: relative; }
        .photo-item img { width: 100%; height: 8rem; object-fit: cover; border-radius: 0.5rem; }
        .photo-badge { position: absolute; top: 0.5rem; right: 0.5rem; background-color: #16a34a; color: white; font-size: 0.75rem; padding: 0.25rem 0.5rem; border-radius: 9999px; font-weight: bold; }
        .photo-timestamp { position: absolute; bottom: 0.5rem; left: 0.5rem; background-color: rgba(0, 0, 0, 0.7); color: white; font-size: 0.75rem; padding: 0.25rem 0.5rem; border-radius: 0.25rem; }
        .video-item { display: flex; align-items: center; gap: 0.75rem; background-color: #374151; padding: 0.75rem; border-radius: 0.5rem; margin-bottom: 0.75rem; }
        .requirements-box { background-color: rgba(37, 99, 235, 0.3); border: 1px solid #2563eb; border-radius: 0.75rem; padding: 1rem; margin-bottom: 1.5rem; }
        .requirements-list { list-style: none; font-size: 0.875rem; color: #bfdbfe; }
        .requirements-list li { margin-bottom: 0.25rem; }
        .requirements-list li.complete { color: #4ade80; }
        .document-choice { display: flex; flex-direction: column; gap: 0.75rem; margin-bottom: 1rem; }
        .doc-or { text-align: center; color: #9ca3af; font-size: 0.875rem; }
        .document-item { background-color: #374151; padding: 0.75rem; border-radius: 0.5rem; }
        .document-content { display: flex; align-items: center; gap: 0.75rem; }
        .doc-icon { font-size: 1.875rem; }
        .doc-verified { font-size: 0.75rem; font-weight: bold; padding: 0.25rem 0.5rem; border-radius: 0.25rem; background-color: rgba(34, 197, 94, 0.2); color: #4ade80; }
        .upload-button { width: 100%; background-color: #374151; border: 2px dashed #4b5563; color: #d1d5db; font-weight: bold; padding: 0.75rem; border-radius: 0.5rem; cursor: pointer; transition: background-color 0.2s; }
        .upload-button:hover { background-color: #4b5563; }
        .modal-overlay { position: fixed; inset: 0; background-color: rgba(0, 0, 0, 0.8); display: flex; align-items: center; justify-content: center; padding: 1rem; z-index: 50; }
        .modal-content { background-color: #1f2937; border-radius: 1rem; padding: 1.5rem; max-width: 28rem; width: 100%; }
        .analyzing-screen { min-height: 100vh; background-color: #111827; color: white; display: flex; align-items: center; justify-content: center; padding: 1.5rem; }
        .analyzing-spinner { width: 8rem; height: 8rem; border: 8px solid #2563eb; border-top-color: transparent; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 2rem; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .analyzing-checks { display: flex; flex-direction: column; gap: 1rem; text-align: left; background-color: #1f2937; border-radius: 1rem; padding: 1.5rem; }
        .check-item { display: flex; align-items: center; gap: 0.75rem; }
        .check-icon { width: 1.5rem; height: 1.5rem; background-color: #2563eb; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        .result-screen { min-height: 100vh; padding: 1.5rem; }
        .result-icon { width: 8rem; height: 8rem; margin: 0 auto 1rem; }
        .result-icon.bounce { animation: bounce 1s infinite; }
        .result-card { background-color: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); border-radius: 1rem; padding: 1.5rem; margin-bottom: 1.5rem; color: white; }
        .result-card-white { background-color: white; border-radius: 1rem; padding: 1.5rem; margin-bottom: 1.5rem; }
        .summary-row { display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.875rem; }
        .check-result { display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.75rem; }
        .check-label { display: flex; align-items: center; gap: 0.75rem; }
        .damage-cost { text-align: center; }
        .damage-amount { font-size: 3rem; font-weight: 900; color: #111827; }
        .garage-info { display: flex; align-items: start; gap: 1rem; }
        .btn-success { width: 100%; background-color: white; color: #15803d; font-weight: 900; font-size: 1.25rem; padding: 1.25rem; border-radius: 1rem; border: none; cursor: pointer; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); transition: transform 0.2s; }
        .btn-success:hover { transform: scale(1.05); }
        .btn-purple { background-color: #9333ea; color: white; font-weight: bold; padding: 1rem; border-radius: 0.75rem; border: none; cursor: pointer; }
        .btn-border { width: 100%; border: 2px solid white; background: transparent; color: white; font-weight: bold; padding: 0.75rem; border-radius: 0.75rem; cursor: pointer; }
        .btn-border:hover { background-color: rgba(255, 255, 255, 0.1); }
        .spinner { width: 1.25rem; height: 1.25rem; border: 2px solid #9ca3af; border-top-color: transparent; border-radius: 50%; animation: spin 1s linear infinite; display: inline-block; }
    </style>
</head>
<body>
    <div id="app"></div>

    <script>
        const icons = {
            alertTriangle: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>',
            camera: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"></path><circle cx="12" cy="13" r="3"></circle></svg>',
            mapPin: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>',
            checkCircle: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>',
            shield: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>',
            clock: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>',
            video: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m22 8-6 4 6 4V8Z"></path><rect x="2" y="6" width="14" height="12" rx="2" ry="2"></rect></svg>',
            car: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"></path><circle cx="7" cy="17" r="2"></circle><path d="M9 17h6"></path><circle cx="17" cy="17" r="2"></circle></svg>',
            bike: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="5.5" cy="17.5" r="3.5"></circle><circle cx="18.5" cy="17.5" r="3.5"></circle><path d="M15 6a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-3 11.5V14l-3-3 4-3 2 3h2"></path></svg>',
            xCircle: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>',
            navigation: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg>'
        };

        let state = {
            screen: 'emergency',
            formData: { name: '', vehicleNumber: '', vehicleType: '', policyNumber: '', policyCompany: '', location: null },
            photos: [], videos: [], documents: { rc: null, license: null, policy: null, additional: [] },
            analyzing: false, result: null, gettingGPS: false, showAddDocModal: false, newDocName: '', extractingFromLocker: false, showDocumentChoice: true
        };

        function createIcon(iconName, className = 'icon') { const div = document.createElement('div'); div.innerHTML = icons[iconName]; div.className = className; div.style.display = 'inline-block'; return div.innerHTML; }
        function handleInputChange(field, value) { state.formData[field] = value; }
        function getGPSLocation() { state.gettingGPS = true; render(); setTimeout(() => { state.formData.location = { address: "MG Road, Bangalore" }; state.gettingGPS = false; render(); }, 2000); }
        
        function handlePhotoCapture(e) {
            const files = Array.from(e.target.files);
            files.forEach(file => {
                const reader = new FileReader();
                reader.onload = (e) => {
                    // Logic to simulate AI Analysis of image content
                    if(file.name.toLowerCase().includes('chatgpt') || file.name.toLowerCase().includes('ai')) {
                        localStorage.setItem('isAiGenerated', 'true'); // Flag for fraud detection
                    }
                    state.photos.push({ src: e.target.result, timestamp: new Date(), file: file });
                    render();
                };
                reader.readAsDataURL(file);
            });
        }

        function handleVideoCapture(e) { const files = Array.from(e.target.files); files.forEach(file => { const reader = new FileReader(); reader.onload = (e) => { state.videos.push({ src: e.target.result, timestamp: new Date(), file: file, name: file.name }); render(); }; reader.readAsDataURL(file); }); }
        function handleDocumentUpload(type, e) { const file = e.target.files[0]; if (file) { const reader = new FileReader(); reader.onload = (e) => { const docData = { src: e.target.result, timestamp: new Date(), file: file, name: file.name, verified: true }; state.documents[type] = docData; render(); }; reader.readAsDataURL(file); } }
        function extractFromLocker() { state.extractingFromLocker = true; state.showDocumentChoice = false; render(); setTimeout(() => { state.documents.rc = { name: 'RC_PRO.pdf' }; render(); }, 500); setTimeout(() => { state.documents.license = { name: 'DL_PRO.pdf' }; render(); }, 1000); setTimeout(() => { state.documents.policy = { name: 'Policy_PRO.pdf' }; state.extractingFromLocker = false; render(); }, 1500); }

        function runFraudChecks() {
            state.analyzing = true; state.screen = 'analyzing'; render();
            setTimeout(() => {
                const isAiGenerated = localStorage.getItem('isAiGenerated') === 'true'; 
                const damageCheck = isAiGenerated ? false : (Math.random() > 0.2); 
                const checksCount = [true, true, damageCheck].filter(Boolean).length;
                let status, message, action, damageCost;
                
                // FORCED DAMAGE VALUES
                if (isAiGenerated) {
                    status = 'blocked'; message = 'FRAUD DETECTED'; action = 'FAIL (AI Detected)'; damageCost = 0;
                } else if (checksCount === 3) {
                    status = 'approved'; message = 'INSTANT APPROVED!'; action = 'Garage dispatched automatically'; damageCost = 15000;
                } else {
                    status = 'review'; message = 'Quick Call Needed'; action = 'Support will call in 5 minutes'; damageCost = 25000;
                }
                state.result = { status, message, action, damageCost, checks: { damage: damageCheck }, checksCount };
                state.analyzing = false; state.screen = 'result'; render();
            }, 4000);
        }

        // ORIGINAL RENDER FUNCTIONS
        function renderEmergencyScreen() { return ` <div class="emergency-screen"> <div style="max-width: 600px; text-align: center;"> <div class="emergency-icon"> ${icons.alertTriangle} </div> <h1 style="font-size: 3rem; font-weight: 900; color: white; margin-bottom: 1rem;">ACCIDENT?</h1> <p style="font-size: 1.25rem; color: #fecaca; margin-bottom: 3rem;">Get your claim approved in 90 seconds</p> <button class="emergency-button" onclick="state.screen = 'details'; render();"> üö® SPOTCLAIM NOW </button> <div class="stats-grid"> <div> <div class="stat-number">90s</div> <div class="stat-label">Total Time</div> </div> <div> <div class="stat-number">3</div> <div class="stat-label">Fraud Checks</div> </div> <div> <div class="stat-number">0</div> <div class="stat-label">Paperwork</div> </div> </div> </div> </div> `; }
        function renderDetailsScreen() { return ` <div class="form-container"> <div class="form-wrapper"> <div class="form-header"> <h2 class="form-title">Incident Details</h2> <p class="text-gray-400">Fill your information carefully</p> </div> <div class="form-card space-y-5"> <div class="form-group"> <label class="form-label">Your Name *</label> <input type="text" class="form-input" value="${state.formData.name}" onchange="handleInputChange('name', this.value); render();" /> </div> <div class="form-group"> <label class="form-label">Vehicle Type *</label> <div class="button-group"> <button class="vehicle-button ${state.formData.vehicleType === 'car' ? 'active' : ''}" onclick="state.formData.vehicleType='car'; render();">Car</button> <button class="vehicle-button ${state.formData.vehicleType === 'bike' ? 'active' : ''}" onclick="state.formData.vehicleType='bike'; render();">Bike</button> </div> </div> <div class="form-group"> <label class="form-label">Vehicle Number *</label> <input type="text" class="form-input" style="text-transform: uppercase;" value="${state.formData.vehicleNumber}" onchange="handleInputChange('vehicleNumber', this.value.toUpperCase()); render();" /> </div> <div class="form-group"> <label class="form-label">Insurance Company *</label> <select class="form-input" value="${state.formData.policyCompany}" onchange="handleInputChange('policyCompany', this.value); render();" > <option value="">Select insurer</option> <option value="New India Assurance">New India Assurance</option> <option value="Other">Other</option> </select> </div> <div class="form-group"> <label class="form-label">Policy Number *</label> <input type="text" class="form-input" value="${state.formData.policyNumber}" onchange="handleInputChange('policyNumber', this.value); render();" /> </div> <div class="form-group"> <label class="form-label">Accident Location *</label> ${state.formData.location ? `<div class="location-locked">GPS Locked ‚úì</div>` : `<button class="btn-primary" style="width:100%" onclick="getGPSLocation()">Get Current Location</button>`} </div> </div> <div class="button-row"><button class="btn-secondary" onclick="state.screen = 'emergency'; render();">‚Üê Back</button><button class="btn-primary" onclick="state.screen = 'capture'; render();">Next ‚Üí</button></div> </div> </div> `; }
        function renderCaptureScreen() { return ` <div class="form-container"> <div class="form-wrapper"> <div class="form-header"><h2 class="form-title">Upload Damage Evidence</h2></div> <div class="media-section"> <h3 class="media-title"> ${createIcon('camera', 'icon-lg')} Damage Photos </h3> ${state.photos.length > 0 ? ` <div class="photo-grid"> ${state.photos.map((photo, idx) => ` <div class="photo-item"><img src="${photo.src}" /><div class="photo-badge">‚úì Photo ${idx+1}</div></div> `).join('')} </div> ` : ''} <input type="file" id="pInput" multiple onchange="handlePhotoCapture(event)" /> <button class="btn-primary" style="width:100%" onclick="document.getElementById('pInput').click()">Take Photos (Min 4)</button> </div> <div class="media-section"> <h3 class="media-title"> üîí Document Locker </h3> ${state.showDocumentChoice && !state.documents.rc ? `<button class="btn-primary" style="width:100%" onclick="extractFromLocker()">Extract from Locker</button>` : `<div class="document-item"><p style="color:#4ade80">‚úì Documents AI Verified</p></div>`} </div> <div class="button-row"><button class="btn-secondary" onclick="state.screen = 'details'; render();"> ‚Üê Back </button><button class="btn-green" onclick="runFraudChecks()"> ‚ú® Run AI Checks ‚Üí </button></div> </div> </div> `; }
        function renderAnalyzingScreen() { return `<div class="analyzing-screen"><div style="text-align: center;"><div class="analyzing-spinner"></div><h2>AI SCANNING...</h2></div></div>`; }

        // NEXT LEVEL FINAL SCREEN
        function renderResultScreen() {
            const res = state.result;
            const isAi = localStorage.getItem('isAiGenerated') === 'true'; 
            const bg = res.status === 'approved' ? 'bg-gradient-green' : res.status === 'review' ? 'bg-gradient-yellow' : 'bg-gradient-red';
            
            // NEXT LEVEL AI LOGS FOR PRESENTATION
            const aiLog = isAi ? 
                `<div style="font-family:monospace; background:rgba(0,0,0,0.3); padding:10px; border-radius:10px; margin-bottom:15px; font-size:0.75rem; text-align:left;">
                    [NEURAL SCAN LOG]<br>
                    > Checking Pixel Consistency... FAIL<br>
                    > GAN Pattern Detected: 94.2%<br>
                    > Metadata Discrepancy: AI Signature Found<br>
                    > VERDICT: BLOCKING ASSET TRANSFER
                </div>` : 
                `<div style="font-family:monospace; background:rgba(255,255,255,0.1); padding:10px; border-radius:10px; margin-bottom:15px; font-size:0.75rem; text-align:left;">
                    [NEURAL SCAN LOG]<br>
                    > Depth Analysis: MATCHED<br>
                    > Structural Integrity: DAMAGE FOUND<br>
                    > Confidence Score: 98.4%
                </div>`;

            return `
                <div class="result-screen ${bg}">
                    <div style="max-width: 42rem; margin: 0 auto; color: white; text-align: center;">
                        <h1 style="font-size: 3rem; font-weight: 900;">${res.status === 'approved' ? '‚úÖ APPROVED' : res.status === 'review' ? 'üü° REVIEW' : '‚ùå BLOCKED'}</h1>
                        <p style="font-size: 1.25rem; opacity: 0.9; margin-bottom: 2rem;">${res.action}</p>
                        
                        <div class="result-card">
                            <h3 style="margin-bottom: 1rem; border-bottom: 1px solid rgba(255,255,255,0.2); padding-bottom: 5px;">DeepScan Diagnostics</h3>
                            ${aiLog}
                            <div class="check-result"><span>GPS Telemetry Match</span><span>‚úì PASS</span></div>
                            <div class="check-result"><span>Real Damage Analysis</span><span style="font-weight: bold;">${isAi ? '‚úó FAIL (AI Detected)' : '‚úì PASS'}</span></div>
                        </div>

                        <div class="result-card-white" style="margin-top: 1.5rem; position: relative; overflow: hidden;">
                            <div style="color: #4b5563;">Final AI Valuation</div>
                            <div class="damage-amount">‚Çπ${res.damageCost.toLocaleString()}</div>
                        </div>

                        <button class="btn-border mt-8" onclick="localStorage.clear(); location.reload();">üè† HOME</button>
                    </div>
                </div>`;
        }

        function render() {
            const app = document.getElementById('app');
            if (state.screen === 'emergency') app.innerHTML = renderEmergencyScreen();
            else if (state.screen === 'details') app.innerHTML = renderDetailsScreen();
            else if (state.screen === 'capture') app.innerHTML = renderCaptureScreen();
            else if (state.screen === 'analyzing') app.innerHTML = renderAnalyzingScreen();
            else if (state.screen === 'result') app.innerHTML = renderResultScreen();
        }
        render();
    </script>
</body>
</html>